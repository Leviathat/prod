<header id="header">
    <nav
            class="
          fixed
          top-0
          z-10
          flex flex-wrap
          items-center
          justify-between
          w-screen
          py-4
          md:py-0
          px-4
          md:text-center
          text-lg text-gray-700
          bg-white
          mb-50
        "
    >
        <div class="w-4 p-2 cursor-pointer">
            <a href="{% url 'home' %}">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-shop"
                     viewBox="0 0 16 16">
                    <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"/>
                </svg>
            </a>
        </div>

        <svg
                v-on:click="nav_reveal"
                id="menu-button"
                class="h-6 w-6 cursor-pointer md:hidden block cursor-pointer"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
        >
            <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 6h16M4 12h16M4 18h16"

            />
        </svg>

        <div class="w-full md:flex md:items-center md:w-auto
                    "
             :class="{'hidden': navbar_hidden}"
             id="menu"
        >
            <ul
                    class="
              pt-4
              text-base text-gray-700
              md:flex
              md:justify-between
              md:pt-0"
            >
                <li class="relative group">
                    <a class="md:p-4 py-2 block hover:text-purple-400"
                       href="#"
                    >Каталог</a
                    >
                    <div class="absolute hidden group-hover:md:block w-full">
                        <ul class="
                                  pt-4
                                  text-base text-gray-700
                                  md:flex-col
                                  md:justify-between
                                  md:pt-0
                                  first:border-slate-200
                                  first:border-t-2
                                  divide-y divide-slate-200
                                  "
                        >
                            <li>
                                <a class="bg-white md:p-4 py-2 block hover:text-purple-400" href="#"
                                >Обувь</a
                                >
                            </li>
                            <li>
                                <a class="bg-white md:p-4 py-2 block hover:text-purple-400" href="#"
                                >Верх</a
                                >
                            </li>
                            <li>
                                <a class="bg-white md:p-4 py-2 block hover:text-purple-400" href="#"
                                >Низ</a
                                >
                            </li>
                        </ul>
                    </div>
                </li>

                <li class="relative group">
                    <a class="md:p-4 py-2 block hover:text-purple-400" href="#"
                    >Прочее</a
                    >
                </li>

                <li class="relative group">
                    <a class="md:p-4 py-2 block hover:text-purple-400" href="#"
                    >Прочее</a
                    >
                </li>
                <li class="relative group">
                    <a class="md:p-4 py-2 block hover:text-purple-400" href="#"
                    >Прочее</a
                    >
                </li>
                <li class="relative group">
                    <a
                            class="md:p-4 py-2 block hover:text-purple-400 text-purple-500"
                            href="#"
                    >Sign Up</a
                    >
                </li>

                <li class="flex"
                    v-on:click="cart_reveal">
                    <a
                            class="md:p-4 md:hidden block py-2 hover:text-purple-400"
                            href="#"
                    >Корзина</a>
                    <span
                            class="md:hidden
                                    block mr-2 mt-0.5
                                    w-9 h-9
                                    pt-0.5
                                    text-center
                                    text-xl
                                    absolute right-1 -translate-x-1
                                    border-b-2
                                    border-b-purple-400
                                    ">[[cart_total]]</span>
                </li>

            </ul>
        </div>

        <div class="w-full
                    md:flex
                    md:items-center
                    md:w-auto
                    text-black
                    hover:bg-fuchsia-300
                    hover:text-stone-50
                    md:p-2
                    rounded-md
                    cursor-pointer
                    "
             v-on:click="cart_reveal"
             id="cart"
        >
                    <span
                            class="hidden
                                    md:block mr-2 mt-0.5
                                    w-9 h-9
                                    pt-0.5
                                    text-center
                                    text-black
                                    text-xl
                                    absolute right-1 -translate-x-10
                                    ">[[cart_total]]</span>
            <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="currentColor"
                    class="bi bi-cart hidden md:block"
                    viewBox="0 0 16 16">
                <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg>

        </div>
    </nav>

    {#  CART REVEALED BLACK BACKGROUND #}
    <div class="
                fixed
                top-0
                z-30
                bg-black/75
                w-screen
                h-screen
                "
         :class="{'hidden': cart_hidden}"
    >

    </div>

    {#  CART REVEALED BLACK BACKGROUND END #}

    {#  CART REVEALED  #}
    <div
            :class="{'hidden': cart_hidden}"
            class="absolute
                left-1/2 top-1 mt-20
                w-full md:w-2/4 mx-auto
                bg-zinc-100
                md:bg-zinc-100/80
                transform -translate-x-1/2 z-10
                flex flex-col
                p-5
                md:rounded-lg
                z-40
                drop-shadow-2xl
                divide-y-4 divide-slate-400/25
                "
    >
        <div class="w-full
                    text-center
                    pb-5
                    "
             :class="{'h-56':cart_empty}">
                    <span v-if="cart_empty"
                          class="
                            text-lg
                            text-slate-500

                            ">
                        Корзина пуста
                    </span>
            <span v-else
                  class="
                            text-lg
                            font-semibold

                            ">
                        Корзина
                    </span>
            <div v-on:click="cart_reveal"
                 class="absolute
                                right-1 top-1
                                hover:text-red-500
                                transition
                                duration-300
                                ease-in-out
                                cursor-pointer
                                ">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="32"
                     height="32"
                     fill="currentColor"
                     class="bi bi-x"
                     viewBox="0 0 16 16"
                >
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg>
            </div>
        </div>

        {# CART PRDOUCTS #}
        <div class="w-full" v-if="cart != null">
            <div class="w-full" v-for="product in Object.entries(cart)">
                <div class="w-full flex mb-2 pt-2 flex-row justify-between drop-shadow-sm">
                    <div class="flex flex-row justify-start">
                        <div class="
                            md:bg-white
                            bg-indigo-100
                            border-indigo-400/75
                            border-l-2
                            w-auto
                            p-2
                            pl-2.5
                            pt-2.5
                            md:p-2
                            md:pl-3
                            font-bold
                            text-sm
                            md:text-base
                            text-stone-800
                            ">
                            <span class="whitespace-nowrap">
                                [[ product[1].name ]]
                            </span>
                        </div>

                        <div class="rounded-md
                            w-auto
                            ml-2
                            hidden
                            md:block
                            p-2
                            text-green-500
                            hover:bg-green-500
                            hover:text-stone-50
                            transition
                            duration-300
                            items-center
                            flex
                            ">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 width="24"
                                 height="24"
                                 fill="currentColor"
                                 class="bi bi-plus cursor-pointer"
                                 viewBox="0 0 16 16">
                                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                            </svg>

                        </div>

                        <div class="rounded-md
                            w-auto
                            ml-2
                            hidden
                            md:block
                            p-2
                            text-red-500
                            hover:bg-rose-500
                            hover:text-stone-50
                            transition
                            duration-300
                            items-center
                            flex">

                            <svg xmlns="http://www.w3.org/2000/svg"
                                 width="24"
                                 height="24"
                                 fill="currentColor"
                                 class="bi bi-dash cursor-pointer"
                                 viewBox="0 0 16 16">
                                <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                            </svg>
                        </div>

                    </div>
                    <div class="flex flex-row justify-end">
                        <div class="bg-indigo-300
                            rounded-l-md
                            w-auto
                            p-2
                            px-4
                            pt-3
                            md:p-2
                            font-bold
                            text-stone-800
                            text-sm
                            md:text-base">

                            <span class="
                                    whitespace-nowrap">
                                [[ product[1].quantity ]]
                            </span>
                        </div>
                        <div class="bg-white
                            rounded-r-md
                            w-auto
                            p-2
                            pt-3
                            md:p-2
                            mr-2
                            font-bold
                            text-stone-800
                            text-sm
                            md:text-base">

                            <span class="
                                    whitespace-nowrap">
                                [[ product[1].price * product[1].quantity ]] ₸
                            </span>
                        </div>
                        <div v-on:click="remove_from_cart([[ product[0] ]])"
                             class="
                hover:bg-rose-500
                hover:text-stone-50
                p-2
                rounded-md
                text-sm
                transition
                duration-300
                text-red-500
                ">
                            <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="24"
                                    height="24"
                                    fill="currentColor"
                                    class="bi bi-cart-dash cursor-pointer" viewBox="0 0 16 16">
                                <path d="M6.5 7a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z"/>
                                <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        {# CART PRDOUCTS END #}
    </div>
    {#  CART REVEALED END  #}
</header>